@startuml
skinparam componentStyle rectangle

package "Object-Oriented Modules" {
  [habit.py] as Habit
  [category.py] as Category
  [goal.py] as Goal
  [completion.py] as Completion
}

package "Functional/Procedural Modules" {
  [habit_analysis.py] as Analysis
  [momentum_utils.py] as Utils
  [encouragements.py] as Encouragements
  [error_manager.py] as ErrorManager
}

package "Imperative/Controller Modules" {
  [momentum_cli.py] as CLI
  [cli_habit_management.py] as HabitMgmt
  [cli_goal_management.py] as GoalMgmt
  [cli_category_management.py] as CategoryMgmt
  [cli_analysis.py] as CLIAnalysis
  [cli_export.py] as Export
  [cli_display.py] as Display
  [cli_utils.py] as CLIUtils
}

package "Adapter/Imperative Modules" {
  [momentum_db.py] as DB
  [momentum_main.py] as Main
  [seed_data.py] as Seed
  [check_db.py] as CheckDB
}

note right of "Object-Oriented Modules"
  Domain entities with state and methods
  Encapsulate business logic
end note

note right of "Functional/Procedural Modules"
  Pure functions for computations
  Deterministic and testable
end note

note right of "Imperative/Controller Modules"
  Handle user input and orchestration
  Manage CLI workflows
end note

note right of "Adapter/Imperative Modules"
  Isolate I/O and side effects
  Database access and initialization
end note

CLI --> HabitMgmt : routes to
CLI --> GoalMgmt : routes to
CLI --> CategoryMgmt : routes to
CLI --> CLIAnalysis : routes to
CLI --> Export : routes to

HabitMgmt --> Habit : uses
GoalMgmt --> Goal : uses
CategoryMgmt --> Category : uses
CLIAnalysis --> Analysis : uses
Export --> Completion : uses

Habit --> DB : persists
Category --> DB : persists
Goal --> DB : persists
Completion --> DB : persists

Analysis --> DB : queries
Main --> CLI : starts
Seed --> DB : initializes
CheckDB --> DB : validates
@enduml
