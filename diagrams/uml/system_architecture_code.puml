@startuml
skinparam componentStyle rectangle
actor "User" as User

package "CLI Interface" {
  [momentum_cli.py] as CLI
  [cli_display.py] as Display
  [cli_habit_management.py] as HabitMgmt
  [cli_goal_management.py] as GoalMgmt
  [cli_category_management.py] as CategoryMgmt
  [cli_analysis.py] as Analysis
  [cli_export.py] as Export
  [cli_utils.py] as Utils
}

package "Core Classes" {
  [habit.py] as Habit
  [category.py] as Category
  [goal.py] as Goal
  [completion.py] as Completion
}

package "Database Layer" {
  [momentum_db.py] as DB
  database "SQLite DB" as SQLite
}

package "Analysis & Utils" {
  [habit_analysis.py] as HabitAnalysis
  [momentum_utils.py] as MomentumUtils
  [error_manager.py] as ErrorManager
  [encouragements.py] as Encouragements
}

User --> CLI
CLI --> Display
CLI --> HabitMgmt
CLI --> GoalMgmt
CLI --> CategoryMgmt
CLI --> Analysis
CLI --> Export
CLI --> Utils

HabitMgmt --> Habit
GoalMgmt --> Goal
CategoryMgmt --> Category
Analysis --> HabitAnalysis
Export --> Completion

Habit --> DB
Category --> DB
Goal --> DB
Completion --> DB

DB --> SQLite

HabitAnalysis --> DB
MomentumUtils --> ErrorManager
MomentumUtils --> Encouragements
@enduml