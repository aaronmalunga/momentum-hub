@startuml
skinparam componentStyle rectangle

package "cli" {
  package "habit_management" {
    [cli_habit_management.py]
  }
  package "goal_management" {
    [cli_goal_management.py]
  }
  package "category_management" {
    [cli_category_management.py]
  }
  package "analysis" {
    [cli_analysis.py]
  }
  package "export" {
    [cli_export.py]
  }
  package "display" {
    [cli_display.py]
  }
  package "utils" {
    [cli_utils.py]
  }
}

package "core" {
  [habit.py]
  [category.py]
  [goal.py]
  [completion.py]
}

package "db" {
  [momentum_db.py]
}

package "analysis" {
  [habit_analysis.py]
}

package "utils" {
  [momentum_utils.py]
  [error_manager.py]
  [encouragements.py]
}

package "main" {
  [momentum_main.py]
  [momentum_cli.py]
}

package "data" {
  [seed_data.py]
  [check_db.py]
}

cli --> core : uses
cli --> db : accesses
cli --> analysis : queries
cli --> utils : utilities

core --> db : persists

analysis --> db : reads
analysis --> core : analyzes

utils --> error_manager : handles errors
utils --> encouragements : messages

main --> cli : orchestrates
main --> data : initializes

data --> db : seeds

note right of cli
  Command-line interface modules
  Handle user interactions and input validation
end note

note right of core
  Business logic classes
  Domain models and entities
end note

note right of db
  Database access layer
  CRUD operations and queries
end note

note right of analysis
  Analytics and reporting
  Metrics calculations
end note

note right of utils
  Shared utilities
  Error handling, messaging
end note

note right of main
  Application entry points
  CLI orchestration
end note

note right of data
  Data setup and validation
  Seeding and checking
end note
@enduml
